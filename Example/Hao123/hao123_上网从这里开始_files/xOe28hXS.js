!function($){$.widget("ui.marquee",{options:{marginAndPadding:T.browser.ie==6?64:116,speed:100,marginLeft:"20px",orientation:"left"},_create:function(){var $wrapper=$("<div></div>");$wrapper.css({overflow:"hidden","float":"left",height:"20px",marginLeft:this.options.marginLeft});this.element.wrap($wrapper);this.wrapper=this.element.parent();this.elemWidth=null;this.wrapperWidth=null;this.parentWidth=null;this.isLeft=true;this.time=null;this.cloned=false;this._onWindowEvent()},_init:function(){this.start()},_scrollround:function(){var scrollLeftWidth=this.wrapper.scrollLeft();if(scrollLeftWidth+this.wrapperWidth==this.elemWidth){this.isLeft=false}else if(scrollLeftWidth==0){this.isLeft=true}var left=this.isLeft?scrollLeftWidth+1:scrollLeftWidth-1;this.wrapper.scrollLeft(left)},_scrollleft:function(){var scrollLeftWidth=this.wrapper.scrollLeft();if(scrollLeftWidth+this.wrapperWidth==this.elemWidth){this.wrapper.scrollLeft(1)}else{this.wrapper.scrollLeft(scrollLeftWidth+1)}},_onWindowEvent:function(){var self=this,time=null;$(window).on("resize.marquee",function(){clearTimeout(time);time=setTimeout(function(){self.start()},500)})},_onWrapperEvent:function(){var self=this;this.wrapper.on("mouseenter",function(){self._pause()});this.wrapper.on("mouseleave",function(){self._start()})},_offWrapperEvent:function(){this._stop();this.wrapper.off()},_start:function(){var self=this;if(this.time){return}var scrollFun="_scroll"+this.options.orientation;this.time=setInterval(function(){self[scrollFun]()},this.options.speed)},_pause:function(){clearInterval(this.time);this.time=null},_stop:function(){this._pause();this.wrapper.scrollLeft(0)},_needMarquee:function(){this.parentWidth=this.wrapper.parent().width();this.wrapperWidth=this.parentWidth-this.options.marginAndPadding-71;this.elemWidth=this.element.width();return this.elemWidth>this.wrapperWidth},start:function(){if(this._needMarquee()){this._onWrapperEvent();if(this.options.orientation=="left"){this._cloneDom()}this.wrapper.width(this.wrapperWidth);this._start()}else{this._offWrapperEvent();this.wrapper.width(this.elemWidth)}},_cloneDom:function(){this.elemWidth=this.elemWidth+this.wrapperWidth+20;if(!this.cloned){var cloneWidth=this.elemWidth*2+20;var $clone=this.element.clone(true).appendTo(this.wrapper);$clone.css({marginLeft:"20px"});var $wrap=$("<div></div>");$wrap.css({overflow:"hidden",width:cloneWidth});this.wrapper.wrapInner($wrap);this.cloned=true}},_destroy:function(){this._offWrapperEvent();$(window).off(".marquee");$.widget.prototype.destroy.call(this)}})}(jQuery);
/** If u are interested in our code and would like to make it robust, just contact us^^  <enimong#gmail.com> **/
/** Generated by M3D. **/