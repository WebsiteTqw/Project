var ALog=ALog||{};void function(O){var r=Math,d=window,D=document,M=parseInt;var L,F=/msie \d+/i.test(navigator.userAgent),h="alog-",A=h+"alias",G=h+"action",n=h+"group",a=h+"param",N=h+"extra",f=h+"text";var y={},w={count:0,items:[]},c=[],K={},q=O.configs||{},H,s=(+new Date).toString(36)+(r.random().toFixed(8).substr(2)).toString(36);O.errors=w;O.configs=q;O.times=y;O.sid=s;function m(T){y[T]=+new Date}function t(){if(L){return}L={};"AdivBliCaDulEdlFddGspanHtableIbodyJtrKsectionLtdMolNpOarticlePdtQformRimgSh3TinputUasideViWbXthYemZfont".replace(/([A-Z])([a-z]+)/g,function(V,T,U){L[L[T]=U]=T})}function z(W,V,X,U){if(!W||W.nodeType!=1){return""}var T=(/^[^u]/.test(typeof W.getAttribute)&&W.getAttribute(V))||"";if("#"==T){T="[id]"}else{if("."==T){T="[class]"}}T.replace(/\[([\w-_]+)\]/,function(Z,Y){T=W.getAttribute(Y)});U&&(U.target=W);return T||(X&&z(W.parentNode,V,1,U))||""}function o(W,T,Z){Z&&t();T=T||D.body;if(!W||W==T||/^body$/i.test(W.tagName)){return""}if(W.nodeType!=1||/html/i.test(W.tagName)){return W.tagName||""}var V=z(W,A),Y=1,X=W.previousSibling,U=W.nodeName.toLowerCase();while(X){Y+=X.nodeName==W.nodeName;X=X.previousSibling}V=(Z&&L[U]||U)+(Y<2?"":Y)+(V&&"("+V+")");return W.parentNode==T?V:o(W.parentNode,T,Z)+(/^[A-Z]/.test(V)?"":"-")+V}function J(U,T){return o(U,T,1)}O.getXPath=J;function B(U,T){return z(U,G,true,T)}O.getAction=B;function p(T){return z(T,n,true)}O.getGroup=p;function R(T){return z(T,N,true)}O.getExtra=R;function i(T){return z(T,a)}O.getParam=i;function e(T){return z(T,f)}O.getText=e;function Q(V,X){if(!V||!X){return}v("report",X);var Y=new Image(1,1),T=[],U="img_"+(+new Date);for(var W in X){if(X[W]||X[W]===0){T.push(W+"="+encodeURIComponent(X[W]))}}O[U]=Y;Y.onload=Y.onerror=function(){O[U]=Y=Y.onload=Y.onerror=null;delete O[U]};Y.src=V+"?"+T.join("&")}O.report=Q;function v(U,X){var W=K[U],T=0;if(!W){return}var V=W.length;while(V--){if(W[V](X,U)){T++}}return T}O.fire=v;function x(V,U,T){w.count++;if(w.items.length<=9){w.items.push([V,U,T,+new Date])}v("error",w)}O.error=x;function C(W,U,X,T){if(!W){return}try{T&&T.push([W,U,X]);if(W==O){K[U]=K[U]||[];K[U].unshift(X);return}if(W.addEventListener){W.addEventListener(U,X,false)}else{if(W.attachEvent){W.attachEvent("on"+U,X)}}}catch(V){}}O.on=C;function E(W,T,Z){if(!W){return}try{if(W instanceof Array){for(var Y;Y=W.pop();){E.apply(this,Y)}return}if(W==O){var X=K[T];if(!X){return}var V=X.length;while(V--){if(X[V]===Z){X.splice(V,1)}}return}if(W.removeEventListener){W.removeEventListener(T,Z,false)}else{W.detachEvent&&W.detachEvent("on"+T,Z)}}catch(U){}}O.un=E;function l(T){return T.replace(/\(([^)]+)\)/g,"").replace(/[A-Z]/g,function(U){return"-"+L[U]}).replace(/^-/,"")}O.epath=l;function I(T,U){if(!U){return q[T]}q[T]=q[T]||[];if(U instanceof Array){q=q[T].concat(U)}else{q[T].push(U)}}O.config=I;function k(){if(H){return}H=true;m("ult");if(v("unload")){isSleep=new Date;while(new Date-isSleep<100){}}}function j(U,X){var W=U.getBoundingClientRect(),T=P(U);function V(Z,Y){return String(+r.min(r.max(Z/Y,0),1).toFixed(Y<36?1:(Y<351?2:3))).replace(/^0\./g,".")}return[V(X[0]-W.left,T[0]),V(X[1]-W.top,T[1])]}O.ep=j;function P(T){var U=T.getBoundingClientRect();return[M(U.right-U.left),M(U.bottom-U.top)]}function u(){var U=P(D.documentElement),T=P(D.body);return[r.max(U[0],T[0],d.innerWidth||0,D.documentElement.scrollWidth||0),r.max(U[1],T[1],d.innerHeight||0,D.documentElement.scrollHeight||0)]}O.ps=u;function g(){return[r.max(D.documentElement.scrollLeft||0,D.body.scrollLeft||0,(D.defaultView&&D.defaultView.pageXOffset)||0),r.max(D.documentElement.scrollTop||0,D.body.scrollTop||0,(D.defaultView&&D.defaultView.pageYOffset)||0),d.innerWidth||D.documentElement.clientWidth||D.body.clientWidth||0,d.innerHeight||D.documentElement.clientHeight||D.body.clientHeight||0]}O.vr=g;function S(U,T){switch(U){case"group":n=T;break;case"alias":A=T;break;case"action":G=T;break;case"param":a=T;break;case"extra":N=T;break}}O.an=S;C(d,"beforeunload",k);C(d,"unload",k);C(d,"error",x)}(ALog);var Monkey=Monkey||{};void function(G){var e=window,A=document;var K,o,J="monkey",c=[["mousedown","d"],["focusout","o"],["blur","o",e],["focusin","i"],["focus","i",e],["scroll","s",e],["resize","e",e]],p,h,q,d=[],f,H,j,g,y,k,i,n,w,F,z,l={},B={},a=e.ALog,D;function I(P){if(!P){return}var N,O={ts:M().toString(36)};for(N in l){O[N]=l[N]}for(N in P){O[N]=P[N]}s("report",O);a.report(K.postUrl,O)}function E(O,P){if(!O){return}var N={cmd:"action",ac:O,param:P};s("action",N);I(N)}G.push=E;function u(N,O){N&&(l[N]=O)}G.set=u;function x(O,P,N){a.on(a,J+"."+O,P,N)}G.on=x;function M(){return new Date-h}function L(N){while(N){if(/^(a|button)$/i.test(N.tagName)){return N}N=N.parentNode}}function m(){switch(o.refer){case 1:case true:return A.referrer;case 2:var N=A.referrer;if(!N){return}var O="";N.replace(/(^\w+:\/\/)?([^\/]+)/,function(Q,P){O=P});if(A.location.host==O){return A.referrer}return O}}function C(Q,af,ad){var ah=af.target||af.srcElement;switch(Q){case"d":if(!ah){return}H++;var N={},S=L(ah),X=a.getAction(ah,N),ac="",V=a.getText(ah);if(S){if(/^a$/i.test(S.tagName)){if(o.click){ac=S.getAttribute("href",2);if(/^(javascript|#)/i.test(ac)){ac=""}var O=S.getAttribute("cls");if(O){O=O.split(",");var ab=(ac.indexOf("hao123.com")>-1)?1:0}}j++}else{g++}if(o.click){V=V||a.getText(S)||S.title||S.innerHTML.replace(/<[^>]*>|\s/g,"")}}else{if(/input/i.test(ah.tagName)&&/button|radio|checkbox|submit/i.test(ah.type)){S=ah;g++;V=V||ah.value}}if(/img/i.test(ah.tagName)){k++;V=V||ah.alt||ah.title||ah.src}if((!S&&!X)||!o.click){break}if(o.onlylink&&/input|button/i.test(ah.tagName)){break}y++;var W=ad?ad.path+"/"+D(ah,ad.doc):D(ah),T=a.getGroup(ah),P=a.getExtra(ah),R=a.getParam(N.target),Z=a.ep(ah,[af.clientX,af.clientY]),ai=ah.ownerDocument,U=ai.body,ae=[0,0];if(af.pageX||af.pageY){ae=[af.pageX,af.pageY]}else{if(af.clientX||af.clientY){ae=[af.clientX+(ai&&ai.scrollLeft||U&&U.scrollLeft||0)-(ai&&ai.clientLeft||U&&U.clientLeft||0),af.clientY+(ai&&ai.scrollTop||U&&U.scrollTop||0)-(ai&&ai.clientTop||U&&U.clientTop||0)]}}var ag={xp:W,g:T,gx:P,ac:X,ep:Z,ci:y,pp:ae,ps:a.ps(),param:R,u:String(ac||"none").substr(0,200),txt:String(V||"none").substr(0,30)};if(O){ag.c0=ab;for(var aa=0;aa<O.length;aa++){key="c"+(aa+1);ag[key]=O[aa]?O[aa]:("n"+(aa+1))}}if(o.vr){ag.vr=a.vr()}s("click",ag);I(ag);break;case"o":n=M();w=1;break;case"i":F+=M()-n;n=M();w=0;break;case"s":case"e":var Y=a.vr();z=Math.max(Y[1]+Y[3],z);break}}function t(O){if(!window.ALog||h||!document.body.getBoundingClientRect){return}a=ALog;O=O||[];if(!(O instanceof Array)){O=[O]}var P,Q,N,R=[].concat(O);while(K=R.pop()){if(K.page=K.page||K.getPage()){break}}if(!K){return}if(K.page instanceof Array){K.mid=K.mid||K.page[1];K.page=K.page[0]}o=K.reports;a.on(a,"unload",r,d);a.on(a,"error",v,d);D=a.getXPath;H=j=g=y=k=n=w=F=0;h=(a.times&&a.times.ht)||new Date;q=a.sid||(+h).toString(36)+(+Math.random().toFixed(8).substr(2)).toString(36);f="_e_"+q;l={pid:K.pid||241,sid:q,hid:K.hid,mid:K.mid,page:K.page,ver:5,p:K.product,px:e.screen.width+"*"+e.screen.height,ref:m()};for(P in K){if(/^on(\w+)$/.test(P)){x(P.substr(2),K[P],d)}}s("start",G);n=M();N=a.vr();z=N[1]+N[3];o.pv&&I({cmd:"open"});for(P=0;Q=c[P++];){a.on(Q[2]||A,Q[0],(function(S){return function(T){if(!h){return}C(S,T)}})(Q[1]),d);if(!o.staytime){break}}}G.start=t;function r(){if(!h){return}s("close",G);if(w){F+=M()-n}if(o.staytime){var N={cmd:"close",tc:H,lc:j,bc:g,pc:k,pd:z,ft:(M()-F).toString(36),ec:i};I(N)}h=0;a.un(d);return o.staytime}G.stop=r;function s(O,N){a.fire(J+"."+O,N)}function v(O){i=O.count;if(o.error){o.error=0;var N=O.items[0];if(N){I({cmd:"error",et:(N[3]-h).toString(36),url:N[1],msg:N[0],line:N[2]})}}}if(a){if(a.configs&&a.configs[J]){t(a.configs[J])}}}(Monkey);(function(f){var u="data-log-config";var e="1.1.3";var y={rcv:"www.hao123.com/images/track.gif",vdur:30*60000,age:31536000000,id:"hao123"};var m={rcv:y.rcv,currentPageVisitTime:(new Date).getTime(),protocol:window.location.protocol=="https:"?"https:":"http:"};var r=["www.hao123.com","hao123.com"];var t=["tm","ref","embed","ua","ho","type","r","v"];var h={};var a=document.getElementsByTagName("script");for(var w=0,q=a.length;w<q;w++){var p=a[w].getAttribute(u);if(p){var d=p.split(";");for(var s=0;s<d.length;s++){var o=d[s].split(":");var z=o[0];var k=o[1];t.push(z);h[z]=k}}}m.tagKeys=t;var n={};n.checkUA=function(){var C=window,H=document,E=screen,c=navigator;var B=document.body,l=H.documentElement;function G(I){return I.toLowerCase()}function v(I){return new RegExp(I+"\\b[ \\/]?([\\w\\.]*)","i")}function j(){var K="ShockwaveFlash.ShockwaveFlash",J;if(c.plugins&&c.mimeTypes.length){J=c.plugins["Shockwave Flash"];if(J&&J.description){return J.description.match(/\d+/g).join(".")}}else{var I=ActiveXObject;try{J=new I(K+".7")}catch(L){try{J=new I(K+".6");J.AllowScriptAccess="always";return 6}catch(L){}try{J=new I(K)}catch(L){}}if(J!=null){try{return J.GetVariable("$version").match(/\d+/g).join(".")}catch(L){}}}return[0]}function D(){var I,J;if(C.innerHeight||C.innerHeight==0){I=C.innerWidth;J=C.innerHeight}else{if(l&&l.clientHeight){I=l.clientWidth;J=l.clientHeight}else{I="";J=""}}return[I,J]}function A(I){if(result=c.userAgent.match(v(I))){return result.slice(1)}else{return["",""]}}function F(){return !(typeof window._360ilike=="undefined")}function i(){var R=["",""],J="msie",Q="safari";var K="("+J+"|"+Q+"|firefox|chrome|opera)";var M="(maxthon|360se|theworld|se|theworld|greenbrowser)",V="(tencenttraveler)";var S="(windows nt|macintosh|solaris|linux)";var P=A(K);if(G(P[0])==J){if((R=A(M))==","){R=A(V);R=F()?["360se","se"]:[","]}}else{if(G(P[0])==Q){P[1]=A("version")+"."+P[1]}}var O=A(S);var I=[P.join(","),R.join(","),O.join(",")];var N=j();var L=D();var T=[I[0],I[1],I[2],c.platform,c.systemLanguage||c.language,E.width,E.height,L[0],L[1],E.colorDepth,c.cookieEnabled?1:0,N,c.javaEnabled()?1:0];var U=G(T.join(";"));return U}return i()};n.l={};n.l._initUserData=function(){if(!n.l.userDataElem){try{n.l.userDataElem=document.createElement("input");n.l.userDataElem.type="hidden";n.l.userDataElem.style.display="none";n.l.userDataElem.addBehavior("#default#userData");document.getElementsByTagName("head")[0].appendChild(n.l.userDataElem)}catch(c){return false}}return true};n.checkHome=function(){var l=false;function v(){if(!l){l=document.createElement("div");l.style.display="none";l.style.behavior="url(#default#homePage)";document.body.appendChild(l)}return l}function j(A){try{return v().isHomePage(A)}catch(B){}return undefined}function i(){var A=r;A.push(location.host);var C=A.length,B;while(C--){B=A[C];A.push(B+"/","http://"+B,"http://"+B+"/")}return A}function c(){var C,B,A;C=i();C.push(document.URL);B=C.length;while(B--){A=C[B];if(j(A)){return A}}return 0}return c()};n.sio={};n.sio.log=function(i,l){var c=new Image;var j="_log_"+Math.floor(Math.random()*2147483648).toString(36);window[j]=c;c.onload=c.onerror=c.onabort=function(){c.onload=c.onerror=c.onabort=null;window[j]=null;c=null;if(l){l(i)}};c.src=i};function g(){if(typeof h.level=="undefined"||h.level!="1"){var l="_log_erjidata_";var j=[],c=ALog;c.on(document.body,"submit",function(B){var B=window.event||B;var A=B.srcElement||B.target;if(A.tagName.toLowerCase()=="form"){v()}},j);c.on(document.body,"click",function(B){var B=window.event||B;var A=B.srcElement||B.target;if(i(A)){v()}},j);function i(A){while(A){if(typeof A.hasAttribute=="function"&&(/^(a|button|b)$/i.test(A.tagName)||A.hasAttribute("as-link"))){return A}A=A.parentNode}return false}function v(){if(!window[l]){try{if(!h.pageId){throw {name:"not defined",message:"pageId is not defined"}}var A=[];A.push("type=erjidata");A.push("valid=1");A.push("pageId="+encodeURIComponent(h.pageId));typeof pageTitle!="undefined"&&A.push("pageTitle="+encodeURIComponent(pageTitle));typeof h.level!="undefined"&&A.push("level="+encodeURIComponent(h.level));typeof h.page!="undefined"&&A.push("page="+encodeURIComponent(h.page));A.push("r="+(new Date).getTime());n.sio.log(m.protocol+"//"+m.rcv+"?"+A.join("&"));window[l]=true;c.un(j)}catch(B){var A=[];for(w in h){A.push(w+"="+encodeURIComponent(h[w]))}A.push("type=error");A.push("n="+encodeURIComponent(B.name));A.push("m="+encodeURIComponent(B.message));A.push("r="+encodeURIComponent(document.referrer));n.sio.log(m.protocol+"//"+m.rcv+"?"+A.join("&"))}}}}}g();function x(){this.tags={};this.init()}x.prototype={init:function(){var i=this;try{i.setParams();i.postData();if(!h.pageId){throw {name:"not defined",message:"pageId is pageId not defined"}}}catch(j){var c=[];for(w in h){c.push(w+"="+encodeURIComponent(h[w]))}c.push("type=error");c.push("n="+encodeURIComponent(j.name));c.push("m="+encodeURIComponent(j.message));c.push("r="+encodeURIComponent(document.referrer));n.sio.log(m.protocol+"//"+m.rcv+"?"+c.join("&"))}},setTm:function(){var c;var j;var i;m.lastPageVisitTime=this.getData("H123_lpvt_"+y.id)||0;j=this.getData("H123_lvt_"+y.id);if(!j){j=m.currentPageVisitTime;c=Math.round((j-0)/1000)}else{i=j.split(",");if(m.currentPageVisitTime-i[i.length-1]>y.vdur){i.push(m.currentPageVisitTime)}while(i.length>4){i.shift()}j=i.join(",");c=Math.round((i[i.length-1]-0)/1000)}this.setData("H123_lvt_"+y.id,j,y.age);this.setData("H123_lpvt_"+y.id,m.currentPageVisitTime,y.age);this.tags.tm=c},getData:function(v){try{var B=new RegExp("(^| )"+v+"=([^;]*)(;|$)");var c=B.exec(document.cookie);var A=c?c[2]:null;if(!A){if(window.localStorage){var C=window.localStorage.getItem(v);if(C){var j=C.indexOf("|");var i=C.substring(0,j)-0;if(i&&i>(new Date).getTime()){return C.substring(j+1)}}}else{if(n.l._initUserData()){n.l.userDataElem.load(window.location.hostname);return n.l.userDataElem.getAttribute(v)}}}return A}catch(l){}},setData:function(j,l,A){try{var c=new Date;c.setTime(c.getTime()+A||365*24*60*60*1000);if(window.localStorage){l=c.getTime()+"|"+l;window.localStorage.setItem(j,l)}else{if(n.l._initUserData()){n.l.userDataElem.expires=c.toUTCString();n.l.userDataElem.load(window.location.hostname);n.l.userDataElem.setAttribute(j,l);n.l.userDataElem.save(window.location.hostname)}}}catch(i){try{if(A){c=new Date;c.setTime(c.getTime()+A||365*24*60*60*1000)}document.cookie=j+"="+l+(c?"; expires="+c.toGMTString():"")}catch(v){}}},removeData:function(j){try{if(window.localStorage){window.localStorage.removeItem(j)}else{if(n.l._initUserData()){n.l.userDataElem.load(window.location.hostname);n.l.userDataElem.removeAttribute(j);n.l.userDataElem.save(window.location.hostname)}}}catch(i){try{var c=new Date;c.setTime(c.getTime()-1);document.cookie=j+"=; expires="+c.toGMTString()}catch(l){}}return true},serializeTags:function(){var A=[];for(var v=0,c=m.tagKeys.length;v<c;v++){var j=m.tagKeys[v];var B=this.tags[j];if(typeof B!="undefined"&&B!==""){A.push(j+"="+encodeURIComponent(B))}}return A.join("&")},setParams:function(){this.setTm();if(Math.random()<0.001){this.tags.ua=n.checkUA()}this.tags.ho=n.checkHome();this.tags.ref=document.referrer;this.tags.embed=(self!==top)?1:0;this.tags.v=e;this.tags.r=(new Date).getTime();for(w in h){this.tags[w]=h[w]}},postData:function(){var i=this;i.tags.type="access";var c=m.protocol+"//"+m.rcv+"?"+i.serializeTags();n.sio.log(c,function(j){})}};new x;f&&f(h)})(function(a){Monkey.start({getPage:function(){return a.pageId},postUrl:"http://nsclick.baidu.com/h.gif",pid:113,hid:450,onstart:function(){document.cookie.replace(/(?:^| )BAIDUID=([^;]*)(;|$)/,function(f,g){g&&Monkey.set("hao123_baiduid",decodeURIComponent(g.split(":")[0]))});ALog.an("group","monkey");ALog.an("extra","monkeyExtra");var e=["doc","common_erji_favorite_container","layoutContainer","userBar"];for(var d=0;d<e.length;d++){var c=document.getElementById(e[d]);if(c&&c.setAttribute){c.setAttribute("alog-alias",e[d])}}},onreport:function(d){d.ver=5.1;d.v=d.page;document.cookie.replace(/(?:^| )FLASHID=([^;]*)(;|$)/,function(h,g){if(g){d.hao123_flashid=decodeURIComponent(g.split(":")[0])}});delete d.page;d.objurl=d.u;delete d.u;d.title=d.txt;delete d.txt;d.monkey=d.g;delete d.g;if(d.xp&&ALog.epath){d.axp=d.xp;d.xp=ALog.epath(d.xp)}if(d.gx){var f=String(d.gx),c=window.JSON&&JSON.parse?JSON.parse(f):/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?(new Function("return "+f))():null;if(c){for(var e in c){d[e]=c[e]}}delete d.gx}},reports:{click:1,onlylink:1}})});
