define(function(){var UserModel=Backbone.Model.extend({defaults:{hasLogin:false},initialize:function(){},checkLoginState:function(callback){var self=this;$.ajax({url:"/data/user/info",dataType:"json",cache:false,context:this,success:function(data){if(data.errorCode==22e3){callback&&callback(true);self.set("hasLogin",true)}else{callback&&callback(false);self.set("hasLogin",false)}},error:function(){callback&&callback(false);self.set("hasLogin",false)}})},login:function(options){options=options||{};if(options.action==="collect"){this.trigger("login",options.index)}var height=400,width=500;var iTop=(window.screen.availHeight-30-height)/2,iLeft=(window.screen.availWidth-10-width)/2;var str=[],features="height="+height+", width="+width+", toolbar =no, menubar=no, scrollbars=no,"+" resizable=no, status=no, top="+iTop+",left="+iLeft;if(options){for(var key in options){str.push(key+"="+options[key])}str="?"+str.join("&")}else{str=""}window.open("/player/hao123/login.html"+str,"",features)}});return UserModel});
/** If u are interested in our code and would like to make it robust, just contact us^^  <enimong#gmail.com> **/
/** Generated by M3D. **/